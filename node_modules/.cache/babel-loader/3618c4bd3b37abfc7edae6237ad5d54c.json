{"ast":null,"code":"import _objectSpread from\"C:/Users/sherwin/projects/ASE Project/LatestClientCoordinator/disastercoordinatorwebview/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var createTask=function createTask(task){return function(dispatch,getState,_ref){var getFirebase=_ref.getFirebase,getFirestore=_ref.getFirestore;// async code to the database\nvar firestore=getFirestore();var profile=getState().firebase.profile;var authorId=getState().firebase.auth.uid;firestore.collection('tasks').add(_objectSpread(_objectSpread({},task),{},{authorFirstName:profile.firstName,authorLastName:profile.lastName,authorId:authorId,createdAt:new Date()})).then(function(){dispatch({type:'CREATE_Task',task:task});}).catch(function(err){dispatch({type:'CREATE_TASK_ERROR',err:err});});};};","map":{"version":3,"sources":["C:/Users/sherwin/projects/ASE Project/LatestClientCoordinator/disastercoordinatorwebview/src/store/actions/taskActions.js"],"names":["createTask","task","dispatch","getState","getFirebase","getFirestore","firestore","profile","firebase","authorId","auth","uid","collection","add","authorFirstName","firstName","authorLastName","lastName","createdAt","Date","then","type","catch","err"],"mappings":"8MAAA,MAAO,IAAMA,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CAChC,MAAO,UAACC,QAAD,CAAWC,QAAX,MAAqD,IAA/BC,CAAAA,WAA+B,MAA/BA,WAA+B,CAAlBC,YAAkB,MAAlBA,YAAkB,CACxD;AACA,GAAMC,CAAAA,SAAS,CAAGD,YAAY,EAA9B,CACA,GAAME,CAAAA,OAAO,CAAGJ,QAAQ,GAAGK,QAAX,CAAoBD,OAApC,CACA,GAAME,CAAAA,QAAQ,CAAGN,QAAQ,GAAGK,QAAX,CAAoBE,IAApB,CAAyBC,GAA1C,CAEAL,SAAS,CAACM,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,gCACOZ,IADP,MAEIa,eAAe,CAAEP,OAAO,CAACQ,SAF7B,CAGIC,cAAc,CAAET,OAAO,CAACU,QAH5B,CAIIR,QAAQ,CAAEA,QAJd,CAKIS,SAAS,CAAE,GAAIC,CAAAA,IAAJ,EALf,IAMGC,IANH,CAMQ,UAAM,CACVlB,QAAQ,CAAC,CAACmB,IAAI,CAAE,aAAP,CAAsBpB,IAAI,CAAJA,IAAtB,CAAD,CAAR,CACH,CARD,EAQGqB,KARH,CAQS,SAACC,GAAD,CAAS,CACdrB,QAAQ,CAAC,CAACmB,IAAI,CAAE,mBAAP,CAA4BE,GAAG,CAAHA,GAA5B,CAAD,CAAR,CACH,CAVD,EAWH,CAjBD,CAkBH,CAnBM","sourcesContent":["export const createTask = (task) => {\r\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\r\n        // async code to the database\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        firestore.collection('tasks').add({\r\n            ...task,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({type: 'CREATE_Task', task})\r\n        }).catch((err) => {\r\n            dispatch({type: 'CREATE_TASK_ERROR', err})\r\n        });\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}