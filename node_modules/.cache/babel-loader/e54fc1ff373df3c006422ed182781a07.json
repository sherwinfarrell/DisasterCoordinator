{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sherwin\\\\projects\\\\ASE Project\\\\LatestClientCoordinator\\\\disastercoordinatorwebview\\\\src\\\\components\\\\Mapping\\\\MapView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Map, TileLayer, FeatureGroup } from 'react-leaflet'; // import 'leaflet/dist/leaflet.css';\n\nimport 'leaflet-draw/dist/leaflet.draw.css';\nimport { EditControl } from 'react-leaflet-draw';\nimport 'leaflet-draw';\nimport { connect } from \"react-redux\";\nimport { firestoreConnect, firebaseConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addLatLng, addLatLngs } from \"../../store/actions/addLatLng\";\nimport { iconPerson } from './PersonMarker';\nimport { useFirestoreConnect, useFirebaseConnect, useFirestore, useFirebase } from \"react-redux-firebase\";\nimport { DivIcon, marker, useMap, Marker, Popup } from 'leaflet';\nimport L from 'leaflet';\nimport Control from 'react-leaflet-control';\nimport personMarker from \"../../img/personmarker.svg\";\nimport ambulance from \"./icons/ambulance.png\";\nimport hospital from \"./icons/hospital.png\";\nimport policecar from \"./icons/policecar.png\";\nimport firetruck from \"./icons/firetruck2.png\";\nimport bus from \"./icons/bus.jpg\";\nimport car from \"./icons/car.jpg\";\nimport roadblock from \"./icons/Roadblock.png\";\nimport { DriftMarker } from \"leaflet-drift-marker\";\nimport AnimatedMarker from \"./AnimatedMarker\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet roadblockIcon = L.icon({\n  iconUrl: roadblock,\n  iconSize: [20, 40],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\nlet personIcon = L.icon({\n  iconUrl: personMarker,\n  iconSize: [38, 95],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\nlet ambulanceIcon = L.icon({\n  iconUrl: ambulance,\n  iconSize: [30, 50],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\nlet hospitalIcon = L.icon({\n  iconUrl: hospital,\n  iconSize: [30, 50],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\nlet policecarIcon = L.icon({\n  iconUrl: policecar,\n  iconSize: [30, 50],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\nlet firetruckIcon = L.icon({\n  iconUrl: firetruck,\n  iconSize: [30, 50],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\nlet busIcon = L.icon({\n  iconUrl: bus,\n  iconSize: [30, 50],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\nlet carIcon = L.icon({\n  iconUrl: car,\n  iconSize: [30, 50],\n  // size of the icon\n  shadowAnchor: [4, 62],\n  // the same for the shadow\n  popupAnchor: [-3, -76] // \n\n});\n\nconst MapView = props => {\n  _s();\n\n  const mapRef = useRef();\n  const [editableFG, setEditableFG] = useState(null);\n  const [latLng, setLatLng] = useState(null);\n  const [mapLayers, setMapLayers] = useState([]);\n  const [map, setMap] = useState(null);\n  const [markers, setMarkers] = useState([]);\n  const [markerType, setMarkerType] = useState(null);\n  const [markerSelected, setMarkerSelected] = useState(false);\n  const [defaultIcon, setDefaultIcon] = useState(null);\n  let disasterCount = 0;\n  let delMarker = false;\n\n  const _onCreated = e => {\n    const drawnItems = editableFG.leafletElement._layers;\n    var layer = e.layer;\n    var drawedCord = e.layer.toGeoJSON().geometry.coordinates;\n    var radius = e.layer.toGeoJSON();\n    const {\n      layerType\n    } = e;\n\n    if (Object.keys(drawnItems).length > 1) {\n      Object.keys(drawnItems).forEach((layerid, index) => {\n        if (index > 0) return;\n        const layer = drawnItems[layerid];\n        editableFG.leafletElement.removeLayer(layer);\n      });\n      console.log(drawnItems);\n    }\n\n    if (e.layerType == \"rectangle\") {\n      // console.log(layer.getLatLngs())\n      let latLngs = layer.getLatLngs();\n      let latLngsArr = [];\n      Object.keys(latLngs[0]).forEach((e, i) => latLngsArr.push([latLngs[0][e].lat, latLngs[0][e].lng]));\n      console.log(\"These are the Lngs and Lat\", latLngsArr);\n      let coordinates = {\n        'coordinates': latLngsArr\n      };\n      props.addLatLngs(coordinates, disasterCount);\n      disasterCount = disasterCount + 1;\n    }\n\n    if (e.layerType == \"circle\") {\n      console.log(layer._latlng); //    props.addLatLng({\"Latitude\":lat, \"Longitude\" : lng})\n    }\n  };\n\n  const onFeatureGroupReady = reactFGref => {\n    // store the ref for future access to content\n    setEditableFG(reactFGref);\n  };\n\n  const handleClick = e => {\n    // console.log(instance.fireStore);\n    const {\n      lat,\n      lng\n    } = e.latlng;\n    console.log(lat, lng); // firebase.ref(\"poi\").set(latLng)\n    // markers.push((lat, lng, markerType))\n    // setMarkers(markers)\n\n    let map = mapRef.current.leafletElement;\n    console.log(\"Marker Selected is\", defaultIcon);\n\n    if (defaultIcon != null) {\n      let marker = L.marker(e.latlng, {\n        icon: defaultIcon\n      });\n      map.addLayer(marker);\n      const curMarkerType = markerType;\n      let currMarker = [curMarkerType, marker];\n      setMarkers([...markers] + [markerType, marker]); // setMarkers(markers.push([ markerType, marker]))\n\n      console.log(markers);\n    }\n\n    props.addLatLng({\n      \"Latitude\": lat,\n      \"Longitude\": lng\n    });\n  }; // const markerOnClick = (e) => {\n  //    let map = mapRef.current.leafletElement;\n  //    console.log(map)\n  //    L.marker([53.335229447516774, -6.269385586492718], {icon:ambulanceIcon}).addTo(map)\n  // }\n\n\n  const selectHandler = e => {\n    let selected = document.getElementById(\"markerdropdown\").value;\n    setMarkerType(document.getElementById('markerdropdown')[document.getElementById('markerdropdown').selectedIndex].innerHTML);\n\n    if (selected == 1) {\n      setDefaultIcon(null);\n    }\n\n    if (selected == 2) {\n      setDefaultIcon(ambulanceIcon);\n    }\n\n    if (selected == 3) {\n      setDefaultIcon(firetruckIcon);\n    }\n\n    if (selected == 4) {\n      setDefaultIcon(policecarIcon);\n    }\n\n    if (selected == 5) {\n      setDefaultIcon(hospitalIcon);\n    }\n\n    if (selected == 6) {\n      setDefaultIcon(busIcon);\n    }\n\n    if (selected == 7) {\n      setDefaultIcon(carIcon);\n    }\n\n    if (selected == 8) {\n      console.log(\"setting default icon\");\n      setDefaultIcon(personIcon);\n    }\n\n    if (selected == 9) {\n      setDefaultIcon(roadblockIcon);\n    }\n  };\n\n  function reverseCoord(coords) {\n    console.log(coords);\n    var coordsNew = [];\n    coords.forEach(function (coord) {\n      coordsNew.push([coord[1], coord[0]]);\n    });\n    return coordsNew;\n  }\n\n  function deleteMarker(e) {\n    if (delMarker == false) {\n      delMarker = true;\n    } else if (delMarker == true) {\n      delMarker = false;\n    }\n  }\n\n  function deleteMakrerHandler(e) {\n    console.log(e);\n    let map = mapRef.current.leafletElement;\n\n    if (markers.lenght != 0) {\n      let selected = document.getElementById(\"deletemarker\").value;\n      map.removeLayer(markers[selected][2]);\n      setMarkers(markers.splice(selected, 1));\n    }\n  }\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    let map = mapRef.current.leafletElement;\n    let hospitalMakers = [[53.33925098, -6.29706676], [53.29108525, -6.378797956], [53.31617842, -6.213683926], [53.29303003, -6.136440217], [53.35892378, -6.2656689], [53.38819173, -6.369721092], [53.39092162, -6.223907]];\n    hospitalMakers.forEach(m => L.marker(m, {\n      icon: hospitalIcon\n    }).addTo(map));\n    let coordinates = [[-6.31289, 53.3268], [-6.31213, 53.32696], [-6.31146, 53.32711], [-6.31058, 53.3273], [-6.30918, 53.3276], [-6.30912, 53.32761], [-6.30873, 53.3277], [-6.30789, 53.32788], [-6.30754, 53.32796], [-6.30733, 53.328], [-6.30622, 53.32824], [-6.30609, 53.32827], [-6.3049, 53.32852], [-6.3043, 53.32866], [-6.30357, 53.32882], [-6.30338, 53.32886], [-6.30319, 53.3289], [-6.30268, 53.32901], [-6.30224, 53.32911], [-6.30206, 53.32915], [-6.30127, 53.32933], [-6.30123, 53.32934], [-6.30088, 53.32941], [-6.29977, 53.32966], [-6.29954, 53.32971], [-6.29921, 53.32978], [-6.29893, 53.32985], [-6.29869, 53.32992], [-6.29858, 53.32995], [-6.29838, 53.33004], [-6.2983, 53.33008], [-6.29819, 53.33013], [-6.29748, 53.33042], [-6.29713, 53.33055], [-6.2971, 53.33056], [-6.29655, 53.3308], [-6.29624, 53.33092], [-6.29594, 53.33103], [-6.29542, 53.33124], [-6.29475, 53.3315], [-6.29438, 53.33165], [-6.29415, 53.33174], [-6.29391, 53.33184], [-6.29386, 53.33185], [-6.29377, 53.33193], [-6.29363, 53.33202], [-6.29353, 53.33208], [-6.29344, 53.33213], [-6.29319, 53.33229], [-6.293, 53.33242], [-6.29275, 53.33259], [-6.2922, 53.33297], [-6.29192, 53.33316], [-6.2914, 53.33352], [-6.29097, 53.3338], [-6.29093, 53.33383], [-6.29072, 53.33396], [-6.29058, 53.33405], [-6.29038, 53.33416], [-6.29018, 53.33428], [-6.29006, 53.33439], [-6.29001, 53.33443], [-6.28993, 53.33459], [-6.28992, 53.3346], [-6.28967, 53.3351], [-6.28956, 53.33533], [-6.28947, 53.33547], [-6.2893, 53.33567], [-6.28905, 53.33589], [-6.28901, 53.33592], [-6.28883, 53.33605], [-6.28856, 53.33621], [-6.28779, 53.33661], [-6.28725, 53.33685], [-6.28646, 53.33718], [-6.28625, 53.33727], [-6.28575, 53.33745], [-6.28554, 53.33751], [-6.28525, 53.3376], [-6.28479, 53.33771], [-6.28472, 53.33773], [-6.28449, 53.33779], [-6.28429, 53.33784], [-6.2839, 53.33791], [-6.2835, 53.33797], [-6.28271, 53.3381], [-6.28221, 53.33815], [-6.28184, 53.33819], [-6.28182, 53.33819], [-6.28146, 53.33824], [-6.2813, 53.33826], [-6.28064, 53.33834], [-6.28011, 53.33846], [-6.27948, 53.33866], [-6.27972, 53.33898], [-6.27981, 53.33911], [-6.27999, 53.33935], [-6.27946, 53.33958], [-6.27908, 53.33972], [-6.27893, 53.33976], [-6.2786, 53.33981], [-6.27821, 53.33984], [-6.27802, 53.33984], [-6.27804, 53.33993], [-6.27806, 53.34017], [-6.27811, 53.3403], [-6.27813, 53.34037], [-6.27823, 53.34055], [-6.27838, 53.34085], [-6.27858, 53.3412], [-6.27862, 53.34128], [-6.27879, 53.34161], [-6.27911, 53.34223], [-6.27915, 53.3424], [-6.27916, 53.34256], [-6.27912, 53.34281], [-6.2785, 53.34279], [-6.27818, 53.34279], [-6.27797, 53.34279], [-6.27775, 53.34279], [-6.27742, 53.34282], [-6.27718, 53.34287], [-6.2771, 53.34288], [-6.27692, 53.34292], [-6.27617, 53.34307], [-6.27606, 53.34313], [-6.27598, 53.34315], [-6.27581, 53.34319], [-6.2758, 53.34324], [-6.27544, 53.34348], [-6.27539, 53.34351], [-6.27565, 53.34364], [-6.27587, 53.34379], [-6.27598, 53.34384], [-6.27603, 53.34388], [-6.27622, 53.34403], [-6.27633, 53.34415], [-6.27636, 53.34428], [-6.27627, 53.34459], [-6.27609, 53.34493], [-6.276, 53.34508], [-6.27587, 53.34528], [-6.27584, 53.34532], [-6.27575, 53.34554], [-6.27567, 53.34573], [-6.27564, 53.34578], [-6.27558, 53.34588], [-6.2755, 53.34605], [-6.27528, 53.34645], [-6.27509, 53.34698], [-6.27507, 53.34705], [-6.27506, 53.34707], [-6.27505, 53.34708], [-6.27505, 53.3471], [-6.27495, 53.3473], [-6.27486, 53.34748], [-6.27481, 53.34778], [-6.27477, 53.348], [-6.27476, 53.34831], [-6.27473, 53.34863], [-6.27472, 53.34879], [-6.27471, 53.34919], [-6.27469, 53.3495], [-6.27468, 53.34957], [-6.27466, 53.34985], [-6.27461, 53.34998], [-6.27454, 53.35014], [-6.27438, 53.35014], [-6.27376, 53.35015], [-6.2736, 53.35016], [-6.27321, 53.35017], [-6.27285, 53.35019], [-6.27246, 53.35024], [-6.27231, 53.35026], [-6.27197, 53.35031], [-6.27163, 53.35037], [-6.27123, 53.35047], [-6.27089, 53.35058], [-6.27059, 53.35071], [-6.27036, 53.35085], [-6.27007, 53.35107], [-6.26985, 53.35127], [-6.26981, 53.35131], [-6.26978, 53.35135], [-6.26914, 53.35206], [-6.26904, 53.35217], [-6.2684, 53.35286], [-6.26837, 53.35289], [-6.26834, 53.35292], [-6.26806, 53.35317], [-6.26694, 53.3542], [-6.26652, 53.3546], [-6.26639, 53.35473], [-6.26613, 53.35501], [-6.26587, 53.3553], [-6.26569, 53.35552], [-6.26533, 53.35592], [-6.26526, 53.35602], [-6.26515, 53.35613], [-6.26469, 53.35663], [-6.26457, 53.35676], [-6.26455, 53.35678], [-6.26446, 53.35687], [-6.26429, 53.35703], [-6.26413, 53.3572], [-6.26398, 53.35736], [-6.26391, 53.35751], [-6.26323, 53.35805], [-6.26274, 53.35845], [-6.26204, 53.35903], [-6.26175, 53.35933], [-6.26132, 53.35976], [-6.26125, 53.35985], [-6.26052, 53.36061], [-6.26047, 53.36066], [-6.26037, 53.36076], [-6.26004, 53.36113], [-6.2599, 53.36126], [-6.25974, 53.36138], [-6.25972, 53.36141], [-6.25962, 53.36154], [-6.25961, 53.36155], [-6.25958, 53.36158], [-6.25951, 53.36167], [-6.2595, 53.36169], [-6.25949, 53.36175], [-6.25936, 53.36189], [-6.25881, 53.3625], [-6.25852, 53.36282], [-6.25844, 53.36285], [-6.25827, 53.36301], [-6.25791, 53.36342], [-6.25777, 53.36357], [-6.25759, 53.36376], [-6.25742, 53.36394], [-6.25719, 53.3642], [-6.25711, 53.36429], [-6.25677, 53.36472], [-6.25648, 53.36508], [-6.25618, 53.36547], [-6.2559, 53.3659], [-6.25575, 53.36613], [-6.25555, 53.36649], [-6.25549, 53.36678], [-6.25547, 53.36693], [-6.25546, 53.36705], [-6.25546, 53.36714], [-6.25546, 53.36719], [-6.25546, 53.36727], [-6.25547, 53.36749], [-6.25547, 53.36755], [-6.25546, 53.36762], [-6.25544, 53.36769], [-6.25524, 53.3682], [-6.25519, 53.3683], [-6.25519, 53.36831], [-6.25515, 53.3684], [-6.255, 53.36875], [-6.25492, 53.36887], [-6.2549, 53.3689], [-6.25482, 53.36903]];\n    let newCoorinates = reverseCoord(coordinates);\n    var firstpolyline = new L.Polyline(newCoorinates, {\n      color: 'red',\n      weight: 10,\n      opacity: 0.5,\n      smoothFactor: 1\n    });\n    firstpolyline.addTo(map);\n    var line = L.polyline(newCoorinates),\n        animatedMarker = L.animatedMarker(line.getLatLngs(), {\n      icon: ambulanceIcon\n    });\n    map.addLayer(animatedMarker);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Map, {\n      ref: mapRef,\n      center: [53.3498, -6.2603],\n      zoom: 12,\n      style: {\n        height: '91vh'\n      },\n      onclick: handleClick,\n      whenCreated: setMap,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"Powered by <a href=\\\"https://www.esri.com\\\">Esri</a>\",\n        url: \"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FeatureGroup, {\n        ref: featureGroupRef => {\n          onFeatureGroupReady(featureGroupRef);\n        },\n        children: /*#__PURE__*/_jsxDEV(EditControl, {\n          style: {\n            color: \"red\"\n          },\n          draw: {\n            circle: {\n              shapeOptions: {\n                color: \"red\"\n              },\n              showLength: true,\n              metric: true,\n              feet: true,\n              showArea: true\n            },\n            polyline: {\n              shapeOptions: {\n                color: \"red\"\n              }\n            },\n            polygone: {\n              shapeOptions: {\n                color: \"red\"\n              }\n            },\n            rectangle: {\n              shapeOptions: {\n                color: \"red\"\n              }\n            },\n            // marker: false,\n            circlemarker: false\n          },\n          position: \"topright\",\n          onCreated: _onCreated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Control, {\n        position: \"bottomleft\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field col s12\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: selectHandler,\n            id: \"markerdropdown\",\n            className: \"browser-default\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              selected: true,\n              children: \"Select Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"Ambulance Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"3\",\n              children: \"Firetruck Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"4\",\n              children: \"Police Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"5\",\n              children: \"Hospital Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"6\",\n              children: \"Bus Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"7\",\n              children: \"Car Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"8\",\n              children: \"Person Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"9\",\n              children: \"RoadBlock Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteMarker,\n          children: \"Delete Marker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field col s12\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: deleteMakrerHandler,\n            id: \"deletemarker\",\n            className: \"browser-default\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              selected: true,\n              children: \"Delete Marker\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 29\n            }, this), markers && markers.map((m, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: i,\n              children: i + 1 + \" \" + m[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 31\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MapView, \"XyvFH/Owtx8Ik5wKTArFKK/SVyM=\");\n\n_c = MapView;\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addLatLng: latLng => dispatch(addLatLng(latLng)),\n    addLatLngs: (latLngs, count) => dispatch(addLatLngs(latLngs, count))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(MapView);\n\nvar _c;\n\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"sources":["C:/Users/sherwin/projects/ASE Project/LatestClientCoordinator/disastercoordinatorwebview/src/components/Mapping/MapView.js"],"names":["React","useState","useEffect","useCallback","useRef","Map","TileLayer","FeatureGroup","EditControl","connect","firestoreConnect","firebaseConnect","compose","useSelector","useDispatch","addLatLng","addLatLngs","iconPerson","useFirestoreConnect","useFirebaseConnect","useFirestore","useFirebase","DivIcon","marker","useMap","Marker","Popup","L","Control","ambulance","hospital","policecar","firetruck","bus","car","roadblock","DriftMarker","AnimatedMarker","roadblockIcon","icon","iconUrl","iconSize","shadowAnchor","popupAnchor","personIcon","personMarker","ambulanceIcon","hospitalIcon","policecarIcon","firetruckIcon","busIcon","carIcon","MapView","props","mapRef","editableFG","setEditableFG","latLng","setLatLng","mapLayers","setMapLayers","map","setMap","markers","setMarkers","markerType","setMarkerType","markerSelected","setMarkerSelected","defaultIcon","setDefaultIcon","disasterCount","delMarker","_onCreated","e","drawnItems","leafletElement","_layers","layer","drawedCord","toGeoJSON","geometry","coordinates","radius","layerType","Object","keys","length","forEach","layerid","index","removeLayer","console","log","latLngs","getLatLngs","latLngsArr","i","push","lat","lng","_latlng","onFeatureGroupReady","reactFGref","handleClick","latlng","current","addLayer","curMarkerType","currMarker","selectHandler","selected","document","getElementById","value","selectedIndex","innerHTML","reverseCoord","coords","coordsNew","coord","deleteMarker","deleteMakrerHandler","lenght","splice","hospitalMakers","m","addTo","newCoorinates","firstpolyline","Polyline","color","weight","opacity","smoothFactor","line","polyline","animatedMarker","height","featureGroupRef","circle","shapeOptions","showLength","metric","feet","showArea","polygone","rectangle","circlemarker","mapDispatchToProps","dispatch","count"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { Map, TileLayer, FeatureGroup } from 'react-leaflet';\r\n// import 'leaflet/dist/leaflet.css';\r\n\r\nimport 'leaflet-draw/dist/leaflet.draw.css';\r\nimport { EditControl } from 'react-leaflet-draw';\r\nimport 'leaflet-draw';\r\nimport {connect} from \"react-redux\";\r\nimport {firestoreConnect, firebaseConnect} from \"react-redux-firebase\";\r\nimport {compose} from \"redux\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addLatLng, addLatLngs } from \"../../store/actions/addLatLng\";\r\nimport {iconPerson} from './PersonMarker'\r\nimport { useFirestoreConnect, useFirebaseConnect, useFirestore, useFirebase } from \"react-redux-firebase\";\r\nimport { DivIcon, marker, useMap , Marker, Popup} from 'leaflet';\r\nimport L from 'leaflet';\r\nimport Control from 'react-leaflet-control';\r\nimport personMarker from \"../../img/personmarker.svg\"\r\nimport ambulance from \"./icons/ambulance.png\"\r\nimport hospital from \"./icons/hospital.png\"\r\nimport policecar from \"./icons/policecar.png\"\r\nimport firetruck from \"./icons/firetruck2.png\"\r\nimport bus from \"./icons/bus.jpg\"\r\nimport car from \"./icons/car.jpg\"\r\nimport roadblock from \"./icons/Roadblock.png\"\r\nimport { DriftMarker } from \"leaflet-drift-marker\";\r\nimport AnimatedMarker from \"./AnimatedMarker\"\r\n\r\n\r\nlet roadblockIcon = L.icon({\r\n  iconUrl: roadblock,\r\n  iconSize:     [20, 40], // size of the icon\r\n  shadowAnchor: [4, 62],  // the same for the shadow\r\n  popupAnchor:  [-3, -76]// \r\n\r\n});\r\n\r\n\r\n\r\nlet personIcon = L.icon({\r\n    iconUrl: personMarker,\r\n    iconSize:     [38, 95], // size of the icon\r\n    shadowAnchor: [4, 62],  // the same for the shadow\r\n    popupAnchor:  [-3, -76]// \r\n\r\n  });\r\n\r\n\r\nlet ambulanceIcon = L.icon({\r\n    iconUrl: ambulance,\r\n    iconSize:     [30, 50], // size of the icon\r\n    shadowAnchor: [4, 62],  // the same for the shadow\r\n    popupAnchor:  [-3, -76]// \r\n\r\n  });\r\n\r\n  let hospitalIcon = L.icon({\r\n    iconUrl: hospital,\r\n    iconSize:     [30, 50], // size of the icon\r\n    shadowAnchor: [4, 62],  // the same for the shadow\r\n    popupAnchor:  [-3, -76]// \r\n\r\n  });\r\n\r\n  let policecarIcon = L.icon({\r\n    iconUrl: policecar,\r\n    iconSize:     [30, 50], // size of the icon\r\n    shadowAnchor: [4, 62],  // the same for the shadow\r\n    popupAnchor:  [-3, -76]// \r\n\r\n  });\r\n  let firetruckIcon = L.icon({\r\n    iconUrl: firetruck,\r\n    iconSize:     [30, 50], // size of the icon\r\n    shadowAnchor: [4, 62],  // the same for the shadow\r\n    popupAnchor:  [-3, -76]// \r\n\r\n  });\r\n  let busIcon = L.icon({\r\n    iconUrl: bus,\r\n    iconSize:     [30, 50], // size of the icon\r\n    shadowAnchor: [4, 62],  // the same for the shadow\r\n    popupAnchor:  [-3, -76]// \r\n\r\n  });\r\n  let carIcon = L.icon({\r\n    iconUrl: car,\r\n    iconSize:     [30, 50], // size of the icon\r\n    shadowAnchor: [4, 62],  // the same for the shadow\r\n    popupAnchor:  [-3, -76]// \r\n\r\n  });\r\n \r\n\r\n\r\nconst MapView = (props) => {\r\n   const mapRef = useRef()\r\n\r\n    const [editableFG, setEditableFG] = useState(null);\r\n    const [ latLng, setLatLng] = useState(null);\r\n    const [mapLayers, setMapLayers] = useState([]);\r\n    const [map, setMap] = useState(null);\r\n    const [markers, setMarkers]= useState([])\r\n    const [markerType , setMarkerType] = useState(null)\r\n    const [markerSelected, setMarkerSelected] = useState(false)\r\n    const [defaultIcon, setDefaultIcon] = useState(null)\r\n     \r\n\r\n    let disasterCount = 0\r\n    let delMarker = false\r\n\r\n    const _onCreated = e => {\r\n    \r\n        const drawnItems = editableFG.leafletElement._layers;\r\n\r\n        var layer = e.layer;\r\n\r\n        var drawedCord = e.layer.toGeoJSON().geometry.coordinates;\r\n        var radius = e.layer.toGeoJSON()\r\n        const {layerType } = e;\r\n      \r\n\r\n\r\n\r\n        if (Object.keys(drawnItems).length > 1) {\r\n            Object.keys(drawnItems).forEach((layerid, index) => {\r\n                if (index > 0) return;\r\n                const layer = drawnItems[layerid];\r\n                editableFG.leafletElement.removeLayer(layer);\r\n            });\r\n            console.log(drawnItems);\r\n        }\r\n  \r\n\r\n       if(e.layerType ==\"rectangle\"){\r\n            // console.log(layer.getLatLngs())\r\n            let latLngs = layer.getLatLngs()\r\n            let latLngsArr = []\r\n\r\n            Object.keys(latLngs[0]).forEach((e,i) => latLngsArr.push([latLngs[0][e].lat, latLngs[0][e].lng]))\r\n            console.log(\"These are the Lngs and Lat\", latLngsArr)\r\n\r\n            let coordinates = {'coordinates': latLngsArr}\r\n\r\n            props.addLatLngs(coordinates, disasterCount)\r\n            disasterCount = disasterCount +1;\r\n\r\n       }\r\n       if(e.layerType == \"circle\"){\r\n           console.log(layer._latlng)\r\n        //    props.addLatLng({\"Latitude\":lat, \"Longitude\" : lng})\r\n\r\n       }\r\n\r\n    };\r\n\r\n \r\n\r\n\r\n    const onFeatureGroupReady = reactFGref => {\r\n        // store the ref for future access to content\r\n        setEditableFG(reactFGref);\r\n    };\r\n\r\n\r\n    const handleClick = (e) => {\r\n        // console.log(instance.fireStore);\r\n        const { lat, lng } = e.latlng;\r\n\r\n\r\n        console.log(lat, lng);\r\n        // firebase.ref(\"poi\").set(latLng)\r\n        // markers.push((lat, lng, markerType))\r\n        // setMarkers(markers)\r\n\r\n       let map = mapRef.current.leafletElement;\r\n\r\n       console.log(\"Marker Selected is\", defaultIcon)\r\n    \r\n       if(defaultIcon != null){\r\n        let marker = L.marker(e.latlng, {icon:defaultIcon})\r\n        map.addLayer(marker)\r\n\r\n        const curMarkerType = markerType\r\n        let currMarker = [ curMarkerType, marker]\r\n       \r\n         setMarkers([...markers]+ [markerType, marker]) \r\n        // setMarkers(markers.push([ markerType, marker]))\r\n        console.log(markers)\r\n      \r\n       }\r\n        props.addLatLng({\"Latitude\":lat, \"Longitude\" : lng})\r\n\r\n      }\r\n\r\n    // const markerOnClick = (e) => {\r\n\r\n    //    let map = mapRef.current.leafletElement;\r\n    //    console.log(map)\r\n    //    L.marker([53.335229447516774, -6.269385586492718], {icon:ambulanceIcon}).addTo(map)\r\n    // }\r\n\r\n    const selectHandler = (e) => {\r\n        \r\n      let selected =   document.getElementById(\"markerdropdown\").value\r\n      setMarkerType(document.getElementById('markerdropdown')[document.getElementById('markerdropdown').selectedIndex].innerHTML)\r\n\r\n      if(selected == 1)\r\n      {\r\n        setDefaultIcon(null);\r\n      }\r\n      if(selected == 2)\r\n      {           \r\n           setDefaultIcon(ambulanceIcon);\r\n\r\n\r\n      }\r\n      if(selected == 3)\r\n      {\r\n        setDefaultIcon(firetruckIcon);\r\n\r\n\r\n      }\r\n      if(selected == 4)\r\n      {\r\n        setDefaultIcon(policecarIcon);\r\n\r\n\r\n      }\r\n      if(selected == 5)\r\n      {\r\n        setDefaultIcon(hospitalIcon);\r\n\r\n\r\n      }\r\n      if(selected == 6)\r\n      {\r\n        setDefaultIcon(busIcon);\r\n\r\n\r\n      }\r\n      if(selected == 7)\r\n      {\r\n            setDefaultIcon(carIcon);\r\n\r\n      }\r\n      if(selected == 8)\r\n      {\r\n            console.log(\"setting default icon\")\r\n            setDefaultIcon(personIcon);\r\n\r\n      }\r\n      if(selected == 9){\r\n        setDefaultIcon(roadblockIcon);\r\n      }\r\n    }\r\n\r\n\r\n    function reverseCoord(coords) {\r\n      console.log(coords)\r\n      var coordsNew = [];\r\n      coords.forEach(function (coord) {\r\n        coordsNew.push([coord[1], coord[0]]);\r\n      });\r\n      return coordsNew;\r\n    }\r\n\r\n    function deleteMarker(e){\r\n      if(delMarker == false){\r\n        delMarker = true\r\n      }\r\n      else if(delMarker == true){\r\n        delMarker = false\r\n      }\r\n    }\r\n\r\n    function deleteMakrerHandler(e){\r\n      console.log(e)\r\n      let map = mapRef.current.leafletElement;\r\n\r\n      if(markers.lenght != 0){\r\n      let selected =   document.getElementById(\"deletemarker\").value\r\n      map.removeLayer(markers[selected][2])\r\n      setMarkers(markers.splice(selected,1))\r\n      }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n      // Update the document title using the browser API\r\n            let map = mapRef.current.leafletElement;\r\n            let hospitalMakers = [[53.33925098,\t-6.29706676],[53.29108525\t,-6.378797956],[53.31617842\t,-6.213683926],[53.29303003\t,-6.136440217],[53.35892378\t,-6.2656689],[53.38819173\t,-6.369721092],[53.39092162\t,-6.223907]]\r\n\r\n            hospitalMakers.forEach((m)=>  L.marker(m, {icon:hospitalIcon}).addTo(map))    \r\n\r\n            let coordinates = [[-6.31289, 53.3268], [-6.31213, 53.32696], [-6.31146, 53.32711], [-6.31058, 53.3273], [-6.30918, 53.3276], [-6.30912, 53.32761], [-6.30873, 53.3277], [-6.30789, 53.32788], [-6.30754, 53.32796], [-6.30733, 53.328], [-6.30622, 53.32824], [-6.30609, 53.32827], [-6.3049, 53.32852], [-6.3043, 53.32866], [-6.30357, 53.32882], [-6.30338, 53.32886], [-6.30319, 53.3289], [-6.30268, 53.32901], [-6.30224, 53.32911], [-6.30206, 53.32915], [-6.30127, 53.32933], [-6.30123, 53.32934], [-6.30088, 53.32941], [-6.29977, 53.32966], [-6.29954, 53.32971], [-6.29921, 53.32978], [-6.29893, 53.32985], [-6.29869, 53.32992], [-6.29858, 53.32995], [-6.29838, 53.33004], [-6.2983, 53.33008], [-6.29819, 53.33013], [-6.29748, 53.33042], [-6.29713, 53.33055], [-6.2971, 53.33056], [-6.29655, 53.3308], [-6.29624, 53.33092], [-6.29594, 53.33103], [-6.29542, 53.33124], [-6.29475, 53.3315], [-6.29438, 53.33165], [-6.29415, 53.33174], [-6.29391, 53.33184], [-6.29386, 53.33185], [-6.29377, 53.33193], [-6.29363, 53.33202], [-6.29353, 53.33208], [-6.29344, 53.33213], [-6.29319, 53.33229], [-6.293, 53.33242], [-6.29275, 53.33259], [-6.2922, 53.33297], [-6.29192, 53.33316], [-6.2914, 53.33352], [-6.29097, 53.3338], [-6.29093, 53.33383], [-6.29072, 53.33396], [-6.29058, 53.33405], [-6.29038, 53.33416], [-6.29018, 53.33428], [-6.29006, 53.33439], [-6.29001, 53.33443], [-6.28993, 53.33459], [-6.28992, 53.3346], [-6.28967, 53.3351], [-6.28956, 53.33533], [-6.28947, 53.33547], [-6.2893, 53.33567], [-6.28905, 53.33589], [-6.28901, 53.33592], [-6.28883, 53.33605], [-6.28856, 53.33621], [-6.28779, 53.33661], [-6.28725, 53.33685], [-6.28646, 53.33718], [-6.28625, 53.33727], [-6.28575, 53.33745], [-6.28554, 53.33751], [-6.28525, 53.3376], [-6.28479, 53.33771], [-6.28472, 53.33773], [-6.28449, 53.33779], [-6.28429, 53.33784], [-6.2839, 53.33791], [-6.2835, 53.33797], [-6.28271, 53.3381], [-6.28221, 53.33815], [-6.28184, 53.33819], [-6.28182, 53.33819], [-6.28146, 53.33824], [-6.2813, 53.33826], [-6.28064, 53.33834], [-6.28011, 53.33846], [-6.27948, 53.33866], [-6.27972, 53.33898], [-6.27981, 53.33911], [-6.27999, 53.33935], [-6.27946, 53.33958], [-6.27908, 53.33972], [-6.27893, 53.33976], [-6.2786, 53.33981], [-6.27821, 53.33984], [-6.27802, 53.33984], [-6.27804, 53.33993], [-6.27806, 53.34017], [-6.27811, 53.3403], [-6.27813, 53.34037], [-6.27823, 53.34055], [-6.27838, 53.34085], [-6.27858, 53.3412], [-6.27862, 53.34128], [-6.27879, 53.34161], [-6.27911, 53.34223], [-6.27915, 53.3424], [-6.27916, 53.34256], [-6.27912, 53.34281], [-6.2785, 53.34279], [-6.27818, 53.34279], [-6.27797, 53.34279], [-6.27775, 53.34279], [-6.27742, 53.34282], [-6.27718, 53.34287], [-6.2771, 53.34288], [-6.27692, 53.34292], [-6.27617, 53.34307], [-6.27606, 53.34313], [-6.27598, 53.34315], [-6.27581, 53.34319], [-6.2758, 53.34324], [-6.27544, 53.34348], [-6.27539, 53.34351], [-6.27565, 53.34364], [-6.27587, 53.34379], [-6.27598, 53.34384], [-6.27603, 53.34388], [-6.27622, 53.34403], [-6.27633, 53.34415], [-6.27636, 53.34428], [-6.27627, 53.34459], [-6.27609, 53.34493], [-6.276, 53.34508], [-6.27587, 53.34528], [-6.27584, 53.34532], [-6.27575, 53.34554], [-6.27567, 53.34573], [-6.27564, 53.34578], [-6.27558, 53.34588], [-6.2755, 53.34605], [-6.27528, 53.34645], [-6.27509, 53.34698], [-6.27507, 53.34705], [-6.27506, 53.34707], [-6.27505, 53.34708], [-6.27505, 53.3471], [-6.27495, 53.3473], [-6.27486, 53.34748], [-6.27481, 53.34778], [-6.27477, 53.348], [-6.27476, 53.34831], [-6.27473, 53.34863], [-6.27472, 53.34879], [-6.27471, 53.34919], [-6.27469, 53.3495], [-6.27468, 53.34957], [-6.27466, 53.34985], [-6.27461, 53.34998], [-6.27454, 53.35014], [-6.27438, 53.35014], [-6.27376, 53.35015], [-6.2736, 53.35016], [-6.27321, 53.35017], [-6.27285, 53.35019], [-6.27246, 53.35024], [-6.27231, 53.35026], [-6.27197, 53.35031], [-6.27163, 53.35037], [-6.27123, 53.35047], [-6.27089, 53.35058], [-6.27059, 53.35071], [-6.27036, 53.35085], [-6.27007, 53.35107], [-6.26985, 53.35127], [-6.26981, 53.35131], [-6.26978, 53.35135], [-6.26914, 53.35206], [-6.26904, 53.35217], [-6.2684, 53.35286], [-6.26837, 53.35289], [-6.26834, 53.35292], [-6.26806, 53.35317], [-6.26694, 53.3542], [-6.26652, 53.3546], [-6.26639, 53.35473], [-6.26613, 53.35501], [-6.26587, 53.3553], [-6.26569, 53.35552], [-6.26533, 53.35592], [-6.26526, 53.35602], [-6.26515, 53.35613], [-6.26469, 53.35663], [-6.26457, 53.35676], [-6.26455, 53.35678], [-6.26446, 53.35687], [-6.26429, 53.35703], [-6.26413, 53.3572], [-6.26398, 53.35736], [-6.26391, 53.35751], [-6.26323, 53.35805], [-6.26274, 53.35845], [-6.26204, 53.35903], [-6.26175, 53.35933], [-6.26132, 53.35976], [-6.26125, 53.35985], [-6.26052, 53.36061], [-6.26047, 53.36066], [-6.26037, 53.36076], [-6.26004, 53.36113], [-6.2599, 53.36126], [-6.25974, 53.36138], [-6.25972, 53.36141], [-6.25962, 53.36154], [-6.25961, 53.36155], [-6.25958, 53.36158], [-6.25951, 53.36167], [-6.2595, 53.36169], [-6.25949, 53.36175], [-6.25936, 53.36189], [-6.25881, 53.3625], [-6.25852, 53.36282], [-6.25844, 53.36285], [-6.25827, 53.36301], [-6.25791, 53.36342], [-6.25777, 53.36357], [-6.25759, 53.36376], [-6.25742, 53.36394], [-6.25719, 53.3642], [-6.25711, 53.36429], [-6.25677, 53.36472], [-6.25648, 53.36508], [-6.25618, 53.36547], [-6.2559, 53.3659], [-6.25575, 53.36613], [-6.25555, 53.36649], [-6.25549, 53.36678], [-6.25547, 53.36693], [-6.25546, 53.36705], [-6.25546, 53.36714], [-6.25546, 53.36719], [-6.25546, 53.36727], [-6.25547, 53.36749], [-6.25547, 53.36755], [-6.25546, 53.36762], [-6.25544, 53.36769], [-6.25524, 53.3682], [-6.25519, 53.3683], [-6.25519, 53.36831], [-6.25515, 53.3684], [-6.255, 53.36875], [-6.25492, 53.36887], [-6.2549, 53.3689], [-6.25482, 53.36903]];\r\n            let newCoorinates = reverseCoord(coordinates);\r\n            var firstpolyline = new L.Polyline(newCoorinates, {\r\n              color: 'red',\r\n              weight: 10,\r\n              opacity: 0.5,\r\n              smoothFactor: 1\r\n            });\r\n\r\n            firstpolyline.addTo(map);\r\n\r\n            var line = L.polyline(newCoorinates),\r\n            animatedMarker = L.animatedMarker(line.getLatLngs(),  {\r\n              icon: ambulanceIcon\r\n            });\r\n            map.addLayer(animatedMarker);\r\n\r\n    \r\n    });\r\n\r\n    return (\r\n        <div>\r\n        <Map ref={mapRef}\r\n            center={[53.3498, -6.2603]}\r\n            zoom={12}\r\n            style={{ height: '91vh' }}\r\n            onclick = {handleClick} \r\n            whenCreated={setMap}\r\n\r\n            \r\n            >\r\n            {/* <TileLayer\r\n                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                url=\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\"\r\n            /> */}\r\n                    <TileLayer\r\n          attribution=\"Powered by <a href=&quot;https://www.esri.com&quot;>Esri</a>\"\r\n          url=\"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\r\n        />\r\n             \r\n            <FeatureGroup\r\n                ref={featureGroupRef => {\r\n                    onFeatureGroupReady(featureGroupRef);\r\n                }}>\r\n                <EditControl style={{color: \"red\"}} \r\n                        draw={{\r\n                                    circle: {\r\n                                        shapeOptions: { color: \"red\" },\r\n                                        showLength: true,\r\n                                        metric: true,\r\n                                        feet: true,\r\n                                        showArea: true\r\n                                    },\r\n                                    polyline: { \r\n                                        shapeOptions: { color: \"red\" } \r\n                                    },\r\n                                    polygone: { \r\n                                        shapeOptions: { color: \"red\" } \r\n                                    },\r\n                                    rectangle: { \r\n                                        shapeOptions: { color: \"red\" } \r\n                                    },\r\n                                \r\n                                    \r\n\r\n                                    // marker: false,\r\n                                    circlemarker:false\r\n\r\n                            }}\r\n                                \r\n                        position=\"topright\" onCreated={_onCreated} />\r\n            </FeatureGroup>\r\n         \r\n    \r\n            <Control position=\"bottomleft\" >\r\n                    {/* <button \r\n                    onClick={ markerOnClick }\r\n                    >\r\n                    Person Marker\r\n                    </button>\r\n                     */}\r\n\r\n                     <div className=\"input-field col s12\">\r\n                        <select onChange = {selectHandler} id =\"markerdropdown\" className=\"browser-default\">\r\n                            <option  value=\"\" disabled selected>Select Marker</option>\r\n                            <option value=\"1\"></option>\r\n                            <option value=\"2\">Ambulance Marker</option>\r\n                            <option value=\"3\">Firetruck Marker</option>\r\n                            <option value=\"4\">Police Marker</option>\r\n                            <option value=\"5\">Hospital Marker</option>\r\n                            <option value=\"6\">Bus Marker</option>\r\n                            <option value=\"7\">Car Marker</option>\r\n                            <option value=\"8\">Person Marker</option>\r\n                            <option value=\"9\">RoadBlock Marker</option>\r\n\r\n                        </select>\r\n                        <label></label>\r\n\r\n                        </div>\r\n                        <button onClick ={deleteMarker}>Delete Marker</button>\r\n                        \r\n                     <div className=\"input-field col s12\">\r\n                        <select onChange = {deleteMakrerHandler} id =\"deletemarker\" className=\"browser-default\">\r\n                            <option  value=\"\" disabled selected>Delete Marker</option>\r\n                            {markers && markers.map((m, i)=> \r\n                              <option value={i}>{ (i+1) + \" \" + m[1]}</option>\r\n                            )}\r\n\r\n                        </select>\r\n                        <label></label>\r\n\r\n                        </div>\r\n\r\n            </Control>\r\n    \r\n        </Map>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addLatLng: (latLng) => dispatch(addLatLng(latLng)),\r\n        addLatLngs: (latLngs, count)=> dispatch(addLatLngs(latLngs, count))\r\n    }\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(MapView);\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}