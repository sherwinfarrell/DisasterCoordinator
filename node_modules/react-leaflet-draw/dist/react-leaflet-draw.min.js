!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("leaflet"),require("react-leaflet"),require("leaflet-draw")):"function"==typeof define&&define.amd?define(["leaflet","react-leaflet","leaflet-draw"],t):"object"==typeof exports?exports.ReactLeaflet=t(require("leaflet"),require("react-leaflet"),require("leaflet-draw")):e.ReactLeaflet=t(e.L,e[void 0],e.L)}(window,function(e,t,r){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){e.exports=r(3)()},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";var o=r(4);function n(){}e.exports=function(){function e(e,t,r,n,a,i){if(i!==o){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=r},function(e,t,r){"use strict";r.r(t);var o=r(0);r(5);var n=function(){this.__data__=[],this.size=0};var a=function(e,t){return e===t||e!=e&&t!=t};var i=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1},p=Array.prototype.splice;var u=function(e){var t=this.__data__,r=i(t,e);return!(r<0||(r==t.length-1?t.pop():p.call(t,r,1),--this.size,0))};var f=function(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]};var c=function(e){return i(this.__data__,e)>-1};var l=function(e,t){var r=this.__data__,o=i(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}s.prototype.clear=n,s.prototype.delete=u,s.prototype.get=f,s.prototype.has=c,s.prototype.set=l;var y=s,d=Array.isArray;var v=function(){if(!arguments.length)return[];var e=arguments[0];return d(e)?e:[e]};var b=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1};var h=function(e,t,r){for(var o=r-1,n=e.length;++o<n;)if(e[o]===t)return o;return-1};var w=function(e,t){return!(null==e||!e.length)&&h(e,t,0)>-1},T=1,P=2;var O=function(e,t,r,o,n,a){var i=r&T,p=e.length,u=t.length;if(p!=u&&!(i&&u>p))return!1;var f=a.get(e);if(f&&a.get(t))return f==t;var c=-1,l=!0,s=r&P?new v:void 0;for(a.set(e,t),a.set(t,e);++c<p;){var y=e[c],d=t[c];if(o)var h=i?o(d,y,c,t,e,a):o(y,d,c,e,t,a);if(void 0!==h){if(h)continue;l=!1;break}if(s){if(!b(t,function(e,t){if(!w(s,t)&&(y===e||n(y,e,r,o,a)))return s.push(t)})){l=!1;break}}else if(y!==d&&!n(y,d,r,o,a)){l=!1;break}}return a.delete(e),a.delete(t),l};var m=function(e,t){return e===t||e!=e&&t!=t};var _=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),g=1,j=Object.prototype.hasOwnProperty;var E=function(e,t,r,o,n,a){var i=r&g,p=_(e),u=p.length;if(u!=_(t).length&&!i)return!1;for(var f=u;f--;){var c=p[f];if(!(i?c in t:j.call(t,c)))return!1}var l=a.get(e);if(l&&a.get(t))return l==t;var s=!0;a.set(e,t),a.set(t,e);for(var y=i;++f<u;){var d=e[c=p[f]],v=t[c];if(o)var b=i?o(v,d,c,t,e,a):o(d,v,c,e,t,a);if(!(void 0===b?d===v||n(d,v,r,o,a):b)){s=!1;break}y||(y="constructor"==c)}if(s&&!y){var h=e.constructor,w=t.constructor;h!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof w&&w instanceof w)&&(s=!1)}return a.delete(e),a.delete(t),s},S=Object.prototype.toString;var D=function(e){return S.call(e)};var x=function(){return!1};var k=function(){return!1},C=1,R="[object Arguments]",L="[object Array]",M="[object Object]",q=Object.prototype.hasOwnProperty;var A=function(e,t,r,o,n,a){var i=d(e),p=d(t),u=i?L:D(e),f=p?L:D(t),c=(u=u==R?M:u)==M,l=(f=f==R?M:f)==M,s=u==f;if(s&&x(e)){if(!x(t))return!1;i=!0,c=!1}if(s&&!c)return a||(a=new y),i||k(e)?O(e,t,r,o,n,a):m(e,t,u,r,o,n,a);if(!(r&C)){var v=c&&q.call(e,"__wrapped__"),b=l&&q.call(t,"__wrapped__");if(v||b){var h=v?e.value():e,w=b?t.value():t;return a||(a=new y),n(h,w,r,o,a)}}return!!s&&(a||(a=new y),E(e,t,r,o,n,a))};var U=function(e){return null!=e&&"object"==typeof e};var z=function e(t,r,o,n,a){return t===r||(null==t||null==r||!U(t)&&!U(r)?t!=t&&r!=r:A(t,r,o,n,e,a))};var I=function(e,t){return z(e,t)},V=r(2),W=r(1),B=r.n(W);function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){Q(e,t,r[t])})}return e}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e,t,r){return(N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},Z=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return Q(K(K(r=function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?K(e):t}(this,(e=Y(t)).call.apply(e,[this].concat(n))))),"onDrawCreate",function(e){var t=r.props.onCreated;r.props.leaflet.layerContainer.addLayer(e.layer),t&&t(e)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,V["MapControl"]),function(e,t,r){t&&H(e.prototype,t),r&&H(e,r)}(t,[{key:"createLeafletElement",value:function(e){return $(e)}},{key:"componentDidMount",value:function(){N(Y(t.prototype),"componentDidMount",this).call(this);var e=this.props.leaflet.map,r=this.props.onMounted;for(var o in X)this.props[o]&&e.on(X[o],this.props[o]);e.on(B.a.Draw.Event.CREATED,this.onDrawCreate),r&&r(this.leafletElement)}},{key:"componentWillUnmount",value:function(){N(Y(t.prototype),"componentWillUnmount",this).call(this);var e=this.props.leaflet.map;for(var r in e.off(B.a.Draw.Event.CREATED,this.onDrawCreate),X)this.props[r]&&e.off(X[r],this.props[r])}},{key:"componentDidUpdate",value:function(e){if(N(Y(t.prototype),"componentDidUpdate",this).call(this,e),I(this.props.draw,e.draw)||this.props.position!==e.position)return!1;var r=this.props.leaflet.map;return this.leafletElement.remove(r),this.leafletElement=$(this.props),this.leafletElement.addTo(r),null}}]),t}();function $(e){var t=e.leaflet.layerContainer,r=e.draw,o=e.edit,n=e.position,a={edit:F({},o,{featureGroup:t})};return r&&(a.draw=F({},r)),n&&(a.position=n),new W.Control.Draw(a)}Q(Z,"propTypes",F({},Object.keys(X).reduce(function(e,t){return e[t]=o.PropTypes.func,e},{}),{onCreated:o.PropTypes.func,onMounted:o.PropTypes.func,draw:o.PropTypes.shape({polyline:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),polygon:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),rectangle:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),circle:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),marker:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool])}),edit:o.PropTypes.shape({edit:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),remove:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),poly:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.bool]),allowIntersection:o.PropTypes.bool}),position:o.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:o.PropTypes.shape({map:o.PropTypes.instanceOf(W.Map),layerContainer:o.PropTypes.shape({addLayer:o.PropTypes.func.isRequired,removeLayer:o.PropTypes.func.isRequired})})}));var ee=Object(V.withLeaflet)(Z);r.d(t,"EditControl",function(){return ee})}])});